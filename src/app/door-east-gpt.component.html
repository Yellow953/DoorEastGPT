<!-- Floating Button -->
<div class="position-fixed bottom-0 end-0 m-3" style="z-index: 1060">
  <button
    class="btn btn-primary rounded-pill px-4 py-2 shadow-lg"
    (click)="toggleChat()"
  >
    ðŸ’¬ DoorEastGPT
  </button>
</div>

<!-- Chat Modal (Y-center, X-right) -->
<div
  *ngIf="chatOpen"
  class="position-fixed top-50 end-0 translate-middle-y shadow-lg rounded-4 border"
  style="
    z-index: 1070;
    width: 500px;
    margin-right: 1rem;
    background-color: white;
  "
  #chatBox
>
  <!-- Header -->
  <div
    class="text-center p-4 rounded-top-4"
    style="
      background: linear-gradient(to right, #007bff, #3399ff);
      color: white;
    "
  >
    <img
      src="https://cdn-icons-png.flaticon.com/512/4712/4712027.png"
      alt="AI Icon"
      style="width: 40px"
    />
    <h5 class="mt-3 fw-bold mb-1">Say Hello to DoorEastGPT</h5>
    <p class="small m-0">
      Chat with Lebanonâ€™s first AI-powered property assistant and browse homes
      stress-free!
    </p>
  </div>

  <!-- Chat Body -->
  <div
    class="p-4"
    style="height: 300px; overflow-y: auto; background-color: #f8f9fa"
  >
    <div
      class="bg-primary bg-opacity-10 text-dark rounded-3 shadow-sm p-3 mb-3 small"
    >
      ðŸ‘‹ Hi, Iâ€™m <strong>DoorEastGPT</strong>, your dedicated AI-powered
      assistant to make property search easier in Lebanon! How can I help you
      today?
    </div>

    <!-- Suggestion Chips -->
    <div class="d-flex flex-wrap gap-2">
      <button class="btn btn-outline-primary btn-sm rounded-pill px-3">
        Average rent in Beirut
      </button>
      <button class="btn btn-outline-primary btn-sm rounded-pill px-3">
        Best areas to invest
      </button>
      <button class="btn btn-outline-primary btn-sm rounded-pill px-3">
        Agencies near me
      </button>
    </div>
  </div>

  <!-- Footer -->
  <div
    class="border-top p-3 bg-white d-flex align-items-center rounded-bottom-4"
  >
    <button class="btn btn-outline-danger btn-sm me-2" (click)="clearChat()">
      Clear
    </button>
    <input
      [(ngModel)]="userInput"
      type="text"
      class="form-control form-control-sm me-2 rounded-pill px-3"
      placeholder="Ask me anything about Lebanese real estate..."
    />
    <button
      class="btn btn-sm btn-primary rounded-pill px-3"
      (click)="sendMessage()"
    >
      <i class="bi bi-send-fill"></i>
    </button>
  </div>
</div>
